<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:WordMasterApp.Features"
             xmlns:header="clr-namespace:WordMasterApp.Components.Header"
             xmlns:validation="clr-namespace:WordMasterApp.Components.ValidationWrapper"
             x:Class="WordMasterApp.Features.WordDetails.WordDetailsView"
             x:Name="This">

    <VerticalStackLayout>
        <StackLayout Spacing="16" VerticalOptions="Start">
            <header:Header Title="Details">
                <header:Header.Buttons>
                    <header:HeaderButton Glyph="&#xf0c7;"
                             FontFamily="FontAwesomeRegular"
                             Command="{Binding BindingContext.UpdateCommand, Source={x:Reference This}}" />
                </header:Header.Buttons>
            </header:Header>

            <validation:ValidationWrapper x:Name="TextValidationWrapper"
                                          ValidationIsVisible="{Binding HasTriedToUpdate}">
                <validation:ValidationWrapper.InnerContent>
                    <Entry Text="{Binding Text}" Placeholder="Enter word" />
                </validation:ValidationWrapper.InnerContent>
            </validation:ValidationWrapper>

            <validation:ValidationWrapper x:Name="TranslationValidationWrapper"
                                          ValidationIsVisible="{Binding HasTriedToUpdate}">
                <validation:ValidationWrapper.InnerContent>
                    <Entry Text="{Binding Translation}" Placeholder="Enter translation" />
                </validation:ValidationWrapper.InnerContent>
            </validation:ValidationWrapper>

            <validation:ValidationWrapper x:Name="DefinitionValidationWrapper"
                                          ValidationIsVisible="{Binding HasTriedToUpdate}">
                <validation:ValidationWrapper.InnerContent>
                    <Editor Placeholder="Enter definition"
                            HeightRequest="100"
                            Text="{Binding Definition}" />
                </validation:ValidationWrapper.InnerContent>
            </validation:ValidationWrapper>

            <!-- Word usages view -->
            <local:WordUsageView ViewModel="{Binding WordUsageViewModel}" />
        </StackLayout>
    </VerticalStackLayout>

</ContentView>